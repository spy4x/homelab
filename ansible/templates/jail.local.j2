# Fail2ban configuration for {{ inventory_hostname }}
# Generated by Ansible - do not edit manually

[DEFAULT]
# Ban settings
bantime = 1h
findtime = 10m
maxretry = 3

# Notification action
action = %(action_)s
         ntfy[name=%(__name__)s]

# Ignore local IPs (adjust to your network)
ignoreip = 127.0.0.1/8 ::1 192.168.0.0/16 10.0.0.0/8

# ===== SSH Protection =====
[sshd]
enabled = true
{% if ssh_port is defined %}
port = {{ ssh_port }}
{% else %}
port = ssh
{% endif %}
filter = sshd
# Use systemd backend for systemd-based systems (Fedora, Debian 12+)
backend = systemd
maxretry = 3
bantime = 1h

