# Offsite Server Environment Configuration (Raspberry Pi)
# Copy this file to .env and fill in your actual values

SERVER_NAME=offsite
# SSH connection details for deployment
SSH_ADDRESS=your-pi-hostname-or-ip
SSH_PORT=22
# SSH_PRIVATE_KEY_FILE=~/.ssh/id_rsa  # Optional: Path to SSH private key (uses SSH agent by default)
TIMEZONE=Europe/Moscow
DOMAIN=yourdomain.com

#region Ansible
# Firewall ports to open (comma-separated list)
# Format: port/protocol (e.g., 80/tcp,443/tcp)
FIREWALL_PORTS=80/tcp,443/tcp,${SSH_PORT}/tcp,22000/tcp,22000/udp,21027/udp
# 80/tcp, 443/tcp - Traefik (HTTP/HTTPS)
# ${SSH_PORT}/tcp - SSH custom port
# 22000/tcp, 22000/udp, 21027/udp - Syncthing (sync protocol and discovery)
# Backup schedule (cron format)
BACKUP_CRON_HOUR=3
BACKUP_CRON_MINUTE=30
#endregion Ansible

#region Docker
# Get with: getent group docker | cut -d: -f3
DOCKER_GROUP_ID=990
#endregion Docker

#region Paths
# Configure paths for your storage layout
BASE_PATH=~/storage
PATH_APPS=${BASE_PATH}/apps                   # Docker services location
VOLUMES_PATH=${PATH_APPS}/.volumes
PATH_SYNC=${BASE_PATH}/sync                   # Syncthing shared folder
PATH_BACKUPS=${PATH_SYNC}/backups             # Backup storage
#endregion Paths

#region Proxy
# Traefik reverse proxy configuration
PROXY_SUBDOMAIN=proxy-offsite
PROXY_CPU_LIMIT=1
PROXY_MEM_LIMIT=512M
BASIC_AUTH_USER=admin
# Generate with: echo $(htpasswd -nB admin) | sed 's/\$/\$\$/g'
# Password format: Q4hHbSgVJNoHMmkx6NqlUvX+JpsehEn
BASIC_AUTH_PASSWORD=$$2y$$05$$YOUR_HASHED_PASSWORD_HERE
#endregion Proxy

#region Backups
# Syncthing configuration for backup replication
SYNCTHING_SUBDOMAIN=sync-offsite
SYNCTHING_CPU_LIMIT=1
SYNCTHING_MEM_LIMIT=1024M
NTFY_URL_BACKUPS=https://ntfy-cloud.yourdomain.com/backups
NTFY_TOKEN_BACKUPS=tk_YOUR_BACKUP_TOKEN_HERE
#endregion Backups

#region WatchTower
# Container auto-update configuration
# Lower limits for Raspberry Pi
WATCHTOWER_CPU_LIMIT=0.5
WATCHTOWER_MEM_LIMIT=256M
#endregion WatchTower

#region Healthchecks
HEALTHCHECKS_SECRET_KEY=YOUR_SECRET
HEALTHCHECKS_BACKUP_URL=https://healthchecks.antonshubin.com/ping/UUID
#endregion Healthchecks

