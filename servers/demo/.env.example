# Demo Server Environment Configuration
# This is a minimal example showing the basic setup required for any server

# Server identifier (used in backup destinations and logging)
SERVER_NAME=demo

# SSH username for deployment and Ansible
HOMELAB_USER=your-username

# SSH connection details
SSH_ADDRESS=demo.example.com  # Hostname or IP address
SSH_PORT=22                   # SSH port (default 22)
# SSH_PRIVATE_KEY_FILE=~/.ssh/id_rsa  # Optional: Path to SSH private key (uses SSH agent by default)

# Server timezone (used by all containers)
TIMEZONE=America/New_York

# Domain for services (Traefik will use subdomains like service.yourdomain.com)
DOMAIN=yourdomain.com

#region Ansible
# Firewall ports to open (comma-separated, port/protocol format)
FIREWALL_PORTS=80/tcp,443/tcp,${SSH_PORT}/tcp,22000/tcp,22000/udp,21027/udp
# 80/tcp, 443/tcp - Traefik (HTTP/HTTPS)
# ${SSH_PORT}/tcp - SSH
# 22000/tcp, 22000/udp, 21027/udp - Syncthing (file sync)

# When to run automatic backups (cron format)
BACKUP_CRON_HOUR=2
BACKUP_CRON_MINUTE=0
#endregion Ansible

#region Paths
# Base directory for all homelab data
BASE_PATH=~/homelab
PATH_APPS=${BASE_PATH}/apps
VOLUMES_PATH=${PATH_APPS}/.volumes
PATH_SYNC=${BASE_PATH}/sync
PATH_BACKUPS=${PATH_SYNC}/backups
#endregion Paths

#region Proxy (Traefik)
# Email for Let's Encrypt SSL certificates
CONTACT_EMAIL=admin@${DOMAIN}
PROXY_CPU_LIMIT=1
PROXY_MEM_LIMIT=512M
#endregion Proxy

#region Backups
# Encryption password for backup repositories
# Generate with: head -c 32 /dev/urandom | base64 | tr -d '=' | head -c 32
BACKUPS_PASSWORD=REPLACE_WITH_SECURE_PASSWORD

# ntfy notifications for backup status
NTFY_URL_BACKUPS=https://ntfy.${DOMAIN}/homelab-backups
NTFY_TOKEN_BACKUPS=REPLACE_WITH_NTFY_TOKEN
#endregion Backups

#region Gatus (Health Monitoring)
# Notification endpoints for service alerts
GATUS_NTFY_URL=https://ntfy.${DOMAIN}/homelab-alerts
GATUS_NTFY_TOKEN=REPLACE_WITH_NTFY_TOKEN
#endregion Gatus

#region Syncthing
SYNCTHING_CPU_LIMIT=2
SYNCTHING_MEM_LIMIT=1024M
#endregion Syncthing
