# Home Server Environment Configuration
# Copy this file to .env and fill in your actual values

SERVER_NAME=home
# SSH connection details for deployment
SSH_ADDRESS=your-server-hostname-or-ip
SSH_PORT=22
TIMEZONE=America/New_York
DOMAIN=yourdomain.com

#region Ansible
# Ntfy notification tokens and URLs for system monitoring
# Get tokens from your ntfy instance: Settings → Access Tokens
NTFY_TOKEN_HARDWARE=tk_YOUR_HARDWARE_TOKEN_HERE
NTFY_TOKEN_SECURITY=tk_YOUR_SECURITY_TOKEN_HERE
NTFY_TOKEN_UPTIME=tk_YOUR_UPTIME_TOKEN_HERE
NTFY_URL_HARDWARE=https://ntfy.yourdomain.com/hardware
NTFY_URL_SECURITY=https://ntfy.yourdomain.com/security
NTFY_URL_UPTIME=https://ntfy.yourdomain.com/uptime
#endregion Ansible

#region Paths
# Configure paths for your storage layout
# Adjust these based on your mounted drives
BASE_PATH=~/ssd-2tb
VOLUMES_PATH=${BASE_PATH}/apps/.volumes
PATH_APPS=${BASE_PATH}/apps/anton/home      # Docker services location
PATH_SYNC=${BASE_PATH}/sync                 # Syncthing shared folder
PATH_BACKUPS=${PATH_SYNC}/backups           # Backup storage
PATH_BOOKS=${BASE_PATH}/sync/archive/books  # AudioBookshelf library
PATH_MEDIA=${BASE_PATH}/media               # Main media directory
PATH_MOVIES=${BASE_PATH}/media/movies       # Jellyfin movies
PATH_SERIES=${BASE_PATH}/media/series       # Jellyfin TV shows
PATH_MUSIC=${BASE_PATH}/sync/archive/music  # Music library
PATH_OTHER=${BASE_PATH}/media/other         # Other media
PATH_PHOTOS=${BASE_PATH}/media/photos       # Immich photos
PATH_VIDEOS=${BASE_PATH}/media/videos       # Video files
#endregion Paths

#region Proxy
# Traefik reverse proxy configuration
PROXY_SUBDOMAIN=proxy-home
PROXY_CPU_LIMIT=2
PROXY_MEM_LIMIT=2048M
BASIC_AUTH_USER=admin
# Generate with: echo $(htpasswd -nB admin) | sed 's/\$/\$\$/g'
BASIC_AUTH_PASSWORD=$$2y$$05$$YOUR_HASHED_PASSWORD_HERE
#endregion Proxy

#region Backups
# Syncthing and backup notification configuration
SYNCTHING_SUBDOMAIN=sync-home
SYNCTHING_CPU_LIMIT=3
SYNCTHING_MEM_LIMIT=4096M
NTFY_URL_BACKUPS=https://ntfy-home.yourdomain.com/backups
NTFY_TOKEN_BACKUPS=tk_YOUR_BACKUP_TOKEN_HERE
#endregion Backups

#region Monitoring
# Gatus health monitoring configuration
GATUS_CONFIG_PATH=${PATH_APPS}/configs/gatus.yml
GATUS_SUBDOMAIN=uptime-home
NTFY_UPTIME_TOPIC=uptime
NTFY_UPTIME_AUTH_TOKEN=tk_YOUR_UPTIME_TOKEN_HERE
#endregion Monitoring

#region NTFY
# Ntfy notification service
NTFY_SUBDOMAIN=ntfy-home
NTFY_URL=https://ntfy-home.yourdomain.com
#endregion NTFY

#region VaultWarden
# Password manager configuration
# Generate admin token with: echo -n "your-admin-password" | argon2 "$(openssl rand -base64 32)" -e -id -k 65540 -t 3 -p 4
# IMPORTANT: Escape $ characters with $$ for Docker Compose (e.g., $$argon2id$$v=19...)
VAULTWARDEN_ADMIN_TOKEN='$$argon2id$$v=19$$m=65540,t=3,p=4$$YOUR_ARGON2_HASH_HERE'
VAULTWARDEN_SIGNUPS_ALLOWED=false
VAULTWARDEN_INVITATIONS_ALLOWED=false
VAULTWARDEN_SHOW_PASSWORD_HINT=false
VAULTWARDEN_LOGIN_RATELIMIT_MAX_BURST=10
VAULTWARDEN_LOGIN_RATELIMIT_SECONDS=60
VAULTWARDEN_INCOMPLETE_2FA_TIME_LIMIT=3
VAULTWARDEN_LOG_LEVEL=info
VAULTWARDEN_EMERGENCY_ACCESS_ALLOWED=true
#endregion VaultWarden

#region Woodpecker CI
# CI/CD configuration
# Generate secret with: openssl rand -hex 32
WOODPECKER_AGENT_SECRET=YOUR_64_CHAR_HEX_SECRET_HERE
WOODPECKER_ADMIN=your-github-username
# Get from GitHub OAuth App: Settings → Developer settings → OAuth Apps
WOODPECKER_GITHUB_CLIENT=YOUR_GITHUB_CLIENT_ID
WOODPECKER_GITHUB_SECRET=YOUR_GITHUB_CLIENT_SECRET
#endregion Woodpecker CI

#region Piped
# YouTube alternative database configuration
# Generate password with: head -c 32 /dev/urandom | base64 | head -c 32
PIPED_DB_NAME=piped
PIPED_DB_USER=piped
PIPED_DB_PASSWORD=YOUR_SECURE_DATABASE_PASSWORD_HERE
#endregion Piped

#region Immich
# Photo management configuration
# Generate password with: head -c 32 /dev/urandom | base64 | head -c 32
IMMICH_DB_PASSWORD=YOUR_IMMICH_DB_PASSWORD_HERE
# Generate API key with: openssl rand -base64 32
IMMICH_KIOSK_API_KEY=YOUR_IMMICH_API_KEY_HERE
IMMICH_KIOSK_PASSWORD=YOUR_KIOSK_PASSWORD_HERE
#endregion Immich

#region VPN
# WireGuard VPN configuration
VPN_SUBDOMAIN=vpn-home
#endregion VPN

#region WireGuard
# VPN configuration
VPN_SUBDOMAIN=vpn-home
#endregion WireGuard
